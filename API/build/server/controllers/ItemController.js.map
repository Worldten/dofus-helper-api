{"version":3,"sources":["../../../api/server/controllers/ItemController.js"],"names":["util","Util","ItemController","req","res","console","log","ItemService","getAllItems","allItems","length","setSuccess","send","setError","body","item_name","newItem","addItem","createdItem","message","alteredItem","id","params","Number","updateItem","getAItem","theItem","deleteItem","ItemToDelete","getAllNonWeapons","getAllWeapons"],"mappings":"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","sourcesContent":["import ItemService from '../services/ItemService';\nimport Util from '../utils/Utils';\n\nconst util = new Util();\n\nclass ItemController {\n  static async getAllItems(req, res) {\n    try {\n      console.log(\"On est dans le controller\")\n      const allItems = await ItemService.getAllItems();\n      if (allItems.length > 0) {\n        util.setSuccess(200, 'Items retrieved', allItems);\n      } else {\n        util.setSuccess(200, 'No Item found');\n      }\n      return util.send(res);\n    } catch (error) {\n      util.setError(400, error);\n      return util.send(res);\n    }\n  }\n\n  static async addItem(req, res) {\n    console.log(\"On est dans le controller\");\n    if (!req.body.item_name) {\n      util.setError(400, 'Please provide complete details');\n      return util.send(res);\n    }\n    const newItem = req.body;\n    console.log(newItem);\n    try {\n      const createdItem = await ItemService.addItem(newItem);\n      util.setSuccess(201, 'Item Added!', createdItem);\n      return util.send(res);\n    } catch (error) {\n      util.setError(400, error.message);\n      return util.send(res);\n    }\n  }\n\n  static async updatedItem(req, res) {\n    const alteredItem = req.body;\n    const { id } = req.params;\n    if (!Number(id)) {\n      util.setError(400, 'Please input a valid numeric value');\n      return util.send(res);\n    }\n    try {\n      const updateItem = await ItemService.updateItem(id, alteredItem);\n      if (!updateItem) {\n        util.setError(404, `Cannot find Item with the id: ${id}`);\n      } else {\n        util.setSuccess(200, 'Item updated', updateItem);\n      }\n      return util.send(res);\n    } catch (error) {\n      util.setError(404, error);\n      return util.send(res);\n    }\n  }\n\n  static async getAItem(req, res) {\n    const { id } = req.params;\n\n    if (!Number(id)) {\n      util.setError(400, 'Please input a valid numeric value');\n      return util.send(res);\n    }\n\n    try {\n      const theItem = await ItemService.getAItem(id);\n\n      if (!theItem) {\n        util.setError(404, `Cannot find Item with the id ${id}`);\n      } else {\n        util.setSuccess(200, 'Found Item', theItem);\n      }\n      return util.send(res);\n    } catch (error) {\n      util.setError(404, error);\n      return util.send(res);\n    }\n  }\n\n  static async deleteItem(req, res) {\n    const { id } = req.params;\n\n    if (!Number(id)) {\n      util.setError(400, 'Please provide a numeric value');\n      return util.send(res);\n    }\n\n    try {\n      const ItemToDelete = await ItemService.deleteItem(id);\n\n      if (ItemToDelete) {\n        util.setSuccess(200, 'Item deleted');\n      } else {\n        util.setError(404, `Item with the id ${id} cannot be found`);\n      }\n      return util.send(res);\n    } catch (error) {\n      util.setError(400, error);\n      return util.send(res);\n    }\n  }\n\n  static async getAllNonWeapons(req, res) {\n    try {\n      console.log(\"On est dans le controller\")\n      const allItems = await ItemService.getAllNonWeapons();\n      if (allItems.length > 0) {\n        util.setSuccess(200, 'Items retrieved', allItems);\n      } else {\n        util.setSuccess(200, 'No Item found');\n      }\n      return util.send(res);\n    } catch (error) {\n      util.setError(400, error);\n      return util.send(res);\n    }\n  }\n\n  static async getAllWeapons(req, res) {\n    try {\n      console.log(\"On est dans le controller\")\n      const allItems = await ItemService.getAllWeapons();\n      if (allItems.length > 0) {\n        util.setSuccess(200, 'Items retrieved', allItems);\n      } else {\n        util.setSuccess(200, 'No Item found');\n      }\n      return util.send(res);\n    } catch (error) {\n      util.setError(400, error);\n      return util.send(res);\n    }\n  }\n}\n\nexport default ItemController;\n"],"file":"ItemController.js"}
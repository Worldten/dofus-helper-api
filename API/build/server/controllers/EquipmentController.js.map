{"version":3,"sources":["../../../api/server/controllers/EquipmentController.js"],"names":["util","Util","EquipmentController","req","res","console","log","EquipmentService","getAllEquipments","allEquipments","length","setSuccess","send","setError","body","equipment_name","newEquipment","addEquipment","createdEquipment","message","alteredEquipment","id","params","Number","updateEquipment","getAEquipment","theEquipment","deleteEquipment","EquipmentToDelete"],"mappings":"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","sourcesContent":["import EquipmentService from '../services/EquipmentService';\nimport Util from '../utils/Utils';\n\nconst util = new Util();\n\nclass EquipmentController {\n  static async getAllEquipments(req, res) {\n    try {\n      console.log(\"On est dans le controller\")\n      const allEquipments = await EquipmentService.getAllEquipments();\n      if (allEquipments.length > 0) {\n        util.setSuccess(200, 'Equipments retrieved', allEquipments);\n      } else {\n        util.setSuccess(200, 'No Equipment found');\n      }\n      return util.send(res);\n    } catch (error) {\n      util.setError(400, error);\n      return util.send(res);\n    }\n  }\n\n  static async addEquipment(req, res) {\n    console.log(\"On est dans le controller\");\n    if (!req.body.equipment_name) {\n      util.setError(400, 'Please provide complete details');\n      return util.send(res);\n    }\n    const newEquipment = req.body;\n    console.log(newEquipment);\n    try {\n      const createdEquipment = await EquipmentService.addEquipment(newEquipment);\n      util.setSuccess(201, 'Equipment Added!', createdEquipment);\n      return util.send(res);\n    } catch (error) {\n      util.setError(400, error.message);\n      return util.send(res);\n    }\n  }\n\n  static async updatedEquipment(req, res) {\n    const alteredEquipment = req.body;\n    const { id } = req.params;\n    if (!Number(id)) {\n      util.setError(400, 'Please input a valid numeric value');\n      return util.send(res);\n    }\n    try {\n      const updateEquipment = await EquipmentService.updateEquipment(id, alteredEquipment);\n      if (!updateEquipment) {\n        util.setError(404, `Cannot find Equipment with the id: ${id}`);\n      } else {\n        util.setSuccess(200, 'Equipment updated', updateEquipment);\n      }\n      return util.send(res);\n    } catch (error) {\n      util.setError(404, error);\n      return util.send(res);\n    }\n  }\n\n  static async getAEquipment(req, res) {\n    const { id } = req.params;\n\n    if (!Number(id)) {\n      util.setError(400, 'Please input a valid numeric value');\n      return util.send(res);\n    }\n\n    try {\n      const theEquipment = await EquipmentService.getAEquipment(id);\n\n      if (!theEquipment) {\n        util.setError(404, `Cannot find Equipment with the id ${id}`);\n      } else {\n        util.setSuccess(200, 'Found Equipment', theEquipment);\n      }\n      return util.send(res);\n    } catch (error) {\n      util.setError(404, error);\n      return util.send(res);\n    }\n  }\n\n  static async deleteEquipment(req, res) {\n    const { id } = req.params;\n\n    if (!Number(id)) {\n      util.setError(400, 'Please provide a numeric value');\n      return util.send(res);\n    }\n\n    try {\n      const EquipmentToDelete = await EquipmentService.deleteEquipment(id);\n\n      if (EquipmentToDelete) {\n        util.setSuccess(200, 'Equipment deleted');\n      } else {\n        util.setError(404, `Equipment with the id ${id} cannot be found`);\n      }\n      return util.send(res);\n    } catch (error) {\n      util.setError(400, error);\n      return util.send(res);\n    }\n  }\n}\n\nexport default EquipmentController;\n"],"file":"EquipmentController.js"}
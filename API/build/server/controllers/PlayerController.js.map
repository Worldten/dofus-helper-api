{"version":3,"sources":["../../../api/server/controllers/PlayerController.js"],"names":["util","Util","PlayerController","req","res","console","log","PlayerService","getAllPlayers","allPlayers","length","setSuccess","send","setError","body","player_mail","newPlayer","addPlayer","createdPlayer","message","alteredPlayer","id","params","Number","updatePlayer","getAPlayer","thePlayer","deletePlayer","PlayerToDelete"],"mappings":"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","sourcesContent":["import PlayerService from '../services/PlayerService';\nimport Util from '../utils/Utils';\n\nconst util = new Util();\n\nclass PlayerController {\n  static async getAllPlayers(req, res) {\n    try {\n      console.log(\"On est dans le controller\")\n      const allPlayers = await PlayerService.getAllPlayers();\n      if (allPlayers.length > 0) {\n        util.setSuccess(200, 'Players retrieved', allPlayers);\n      } else {\n        util.setSuccess(200, 'No Player found');\n      }\n      return util.send(res);\n    } catch (error) {\n      util.setError(400, error);\n      return util.send(res);\n    }\n  }\n\n  static async addPlayer(req, res) {\n    console.log(\"On est dans le controller\");\n    if (!req.body.player_mail) {\n      util.setError(400, 'Please provide complete details');\n      return util.send(res);\n    }\n    const newPlayer = req.body;\n    console.log(newPlayer);\n    try {\n      const createdPlayer = await PlayerService.addPlayer(newPlayer);\n      util.setSuccess(201, 'Player Added!', createdPlayer);\n      return util.send(res);\n    } catch (error) {\n      util.setError(400, error.message);\n      return util.send(res);\n    }\n  }\n\n  static async updatedPlayer(req, res) {\n    const alteredPlayer = req.body;\n    const { id } = req.params;\n    if (!Number(id)) {\n      util.setError(400, 'Please input a valid numeric value');\n      return util.send(res);\n    }\n    try {\n      const updatePlayer = await PlayerService.updatePlayer(id, alteredPlayer);\n      if (!updatePlayer) {\n        util.setError(404, `Cannot find Player with the id: ${id}`);\n      } else {\n        util.setSuccess(200, 'Player updated', updatePlayer);\n      }\n      return util.send(res);\n    } catch (error) {\n      util.setError(404, error);\n      return util.send(res);\n    }\n  }\n\n  static async getAPlayer(req, res) {\n    const { id } = req.params;\n\n    if (!Number(id)) {\n      util.setError(400, 'Please input a valid numeric value');\n      return util.send(res);\n    }\n\n    try {\n      const thePlayer = await PlayerService.getAPlayer(id);\n\n      if (!thePlayer) {\n        util.setError(404, `Cannot find Player with the id ${id}`);\n      } else {\n        util.setSuccess(200, 'Found Player', thePlayer);\n      }\n      return util.send(res);\n    } catch (error) {\n      util.setError(404, error);\n      return util.send(res);\n    }\n  }\n\n  static async deletePlayer(req, res) {\n    const { id } = req.params;\n\n    if (!Number(id)) {\n      util.setError(400, 'Please provide a numeric value');\n      return util.send(res);\n    }\n\n    try {\n      const PlayerToDelete = await PlayerService.deletePlayer(id);\n\n      if (PlayerToDelete) {\n        util.setSuccess(200, 'Player deleted');\n      } else {\n        util.setError(404, `Player with the id ${id} cannot be found`);\n      }\n      return util.send(res);\n    } catch (error) {\n      util.setError(400, error);\n      return util.send(res);\n    }\n  }\n}\n\nexport default PlayerController;\n"],"file":"PlayerController.js"}
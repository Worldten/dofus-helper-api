{"version":3,"sources":["../../api/test/test-equipment.js"],"names":["chai","use","chatHttp","expect","describe","it","done","equipment","id","equipment_name","equipment_items","equipment_recipe","player_id","request","app","post","set","send","end","err","res","status","to","equal","body","data","include","get","should","have","property","equipmentId","eql","updatedequipment","put"],"mappings":"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","sourcesContent":["import chai from 'chai';\nimport chatHttp from 'chai-http';\nimport 'chai/register-should';\nimport app from '../index';\n\nchai.use(chatHttp);\nconst { expect } = chai;\n\ndescribe('Testing the equipment endpoints:', () => {\n  it('It should create an equipment', (done) => {\n    const equipment =  {\n      id: -1,\n      equipment_name: \"Test\",\n      equipment_items: {},\n      equipment_recipe: {},\n      player_id: null,\n  };\n    chai.request(app)\n      .post('/api/v1/equipments')\n      .set('Accept', 'application/json')\n      .send(equipment)\n      .end((err, res) => {\n        expect(res.status).to.equal(201);\n        expect(res.body.data).to.include({\n          id: -1,\n          equipment_name: equipment.equipment_name,\n          player_id: null,\n        });\n        done();\n      });\n  });\n\n  it('It should not create an equipment with incomplete parameters', (done) => {\n    const equipment = {\n      equipment_items: {},\n      equipment_recipe: {},\n      player_id: null,\n    };\n    chai.request(app)\n      .post('/api/v1/equipments')\n      .set('Accept', 'application/json')\n      .send(equipment)\n      .end((err, res) => {\n        expect(res.status).to.equal(400);\n        done();\n      });\n  });\n\n  it('It should get all equipments', (done) => {\n    chai.request(app)\n      .get('/api/v1/equipments')\n      .set('Accept', 'application/json')\n      .end((err, res) => {\n        expect(res.status).to.equal(200);\n        res.body.data[0].should.have.property('id');\n        res.body.data[0].should.have.property('equipment_name');\n        res.body.data[0].should.have.property('equipment_items');\n        res.body.data[0].should.have.property('equipment_recipe');\n        res.body.data[0].should.have.property('player_id');\n        done();\n      });\n  });\n\n  it('It should get a particular equipment', (done) => {\n    const equipmentId = 1;\n    chai.request(app)\n      .get(`/api/v1/equipments/${equipmentId}`)\n      .set('Accept', 'application/json')\n      .end((err, res) => {\n        expect(res.status).to.equal(200);\n        res.body.data.should.have.property('id');\n        res.body.data.should.have.property('equipment_name');\n        res.body.data.should.have.property('equipment_items');\n        res.body.data.should.have.property('equipment_recipe');\n        res.body.data.should.have.property('player_id');\n        done();\n      });\n  });\n\n  it('It should not get a particular equipment with invalid id', (done) => {\n    const equipmentId = -2;\n    chai.request(app)\n      .get(`/api/v1/equipments/${equipmentId}`)\n      .set('Accept', 'application/json')\n      .end((err, res) => {\n        expect(res.status).to.equal(404);\n        res.body.should.have.property('message')\n                            .eql(`Cannot find Equipment with the id ${equipmentId}`);\n        done();\n      });\n  });\n\n  it('It should not get a particular equipment with non-numeric id', (done) => {\n    const equipmentId = 'aaa';\n    chai.request(app)\n      .get(`/api/v1/equipments/${equipmentId}`)\n      .set('Accept', 'application/json')\n      .end((err, res) => {\n        expect(res.status).to.equal(400);\n        res.body.should.have.property('message')\n                            .eql('Please input a valid numeric value');\n        done();\n      });\n  });\n\n  it('It should update a equipment', (done) => {\n    const equipmentId = -1;\n    const updatedequipment = {\n      id: equipmentId,\n      equipment_name: \"TestUpdate\",\n      equipment_items: {},\n      equipment_recipe: {},\n      player_id: null,\n    };\n    chai.request(app)\n      .put(`/api/v1/equipments/${equipmentId}`)\n      .set('Accept', 'application/json')\n      .send(updatedequipment)\n      .end((err, res) => {\n        expect(res.status).to.equal(200);\n        expect(res.body.data.id).equal(updatedequipment.id);\n        expect(res.body.data.equipment_name).equal(updatedequipment.equipment_name);\n        expect(res.body.data.player_id).equal(updatedequipment.player_id);\n        done();\n      });\n  });\n\n  it('It should not update a equipment with invalid id', (done) => {\n    const equipmentId = '-2';\n    const updatedequipment = {\n      id: equipmentId,\n      equipment_name: \"TestUpdate failed\",\n      equipment_items: {},\n      equipment_recipe: {},\n      player_id: null,\n    };\n    chai.request(app)\n      .put(`/api/v1/equipments/${equipmentId}`)\n      .set('Accept', 'application/json')\n      .send(updatedequipment)\n      .end((err, res) => {\n        expect(res.status).to.equal(404);\n        res.body.should.have.property('message')\n                            .eql(`Cannot find Equipment with the id: ${equipmentId}`);\n        done();\n      });\n  });\n\n  it('It should not update a equipment with non-numeric id value', (done) => {\n    const equipmentId = 'ggg';\n    const updatedequipment = {\n      id: equipmentId,\n      equipment_name: \"TestUpdate failed\",\n      equipment_items: {},\n      equipment_recipe: {},\n      player_id: null,\n    };\n    chai.request(app)\n      .put(`/api/v1/equipments/${equipmentId}`)\n      .set('Accept', 'application/json')\n      .send(updatedequipment)\n      .end((err, res) => {\n        expect(res.status).to.equal(400);\n        res.body.should.have.property('message')\n                            .eql('Please input a valid numeric value');\n        done();\n      });\n  });\n\n\n  it('It should delete a equipment', (done) => {\n    const equipmentId = -1;\n    chai.request(app)\n      .delete(`/api/v1/equipments/${equipmentId}`)\n      .set('Accept', 'application/json')\n      .end((err, res) => {\n        expect(res.status).to.equal(200);\n        expect(res.body.data).to.include({});\n        done();\n      });\n  });\n\n  it('It should not delete a equipment with invalid id', (done) => {\n    const equipmentId = -2;\n    chai.request(app)\n      .delete(`/api/v1/equipments/${equipmentId}`)\n      .set('Accept', 'application/json')\n      .end((err, res) => {\n        expect(res.status).to.equal(404);\n        res.body.should.have.property('message')\n                            .eql(`Equipment with the id ${equipmentId} cannot be found`);\n        done();\n      });\n  });\n\n  it('It should not delete a equipment with non-numeric id', (done) => {\n    const equipmentId = 'bbb';\n    chai.request(app)\n      .delete(`/api/v1/equipments/${equipmentId}`)\n      .set('Accept', 'application/json')\n      .end((err, res) => {\n        expect(res.status).to.equal(400);\n        res.body.should.have.property('message').eql('Please provide a numeric value');\n        done();\n      });\n  });\n});"],"file":"test-equipment.js"}